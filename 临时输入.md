会议备忘录
会议时间：2026-02-23
目录
UI Bug修复与行业术语澄清
新功能规划：「海运出口提单」
后续工作安排与「报关单」模块预告
待办事项清单
1. UI Bug修复与行业术语澄清
1.1 UI问题与确认项
列表显示不全：会议初提到列表在某些分辨率下显示不全，确认为小问题，可能与开发工具或屏幕尺寸有关，暂不需重大调整。
分单默认费用：再次确认，在创建海运分单时，**不应**自动添加默认的“其他费用”项，应保持子表为空，让用户手动添加。
1.2 行业术语澄清
运单 (Waybill) vs. 提单 (Bill of Lading)：在业内，这两个词经常被混用，泛指主单或分单。
主单 (Master Bill) vs. 分单 (House Bill)：这是更精确的说法。
主单：由承运人（航空公司/船公司）签发。
分单：由货运代理签发。
提单 (B/L) 的另一层含义：收货人用于提货的凭证。当收货人说“拿着提单去提货”，需要进一步明确是主单还是分单。
仓单 (Manifest)：是为海关申报而从主/分单信息中提取部分数据生成的特定单据，与前两者用途不同。
2. 新功能规划：「海运出口提单」
2.1 业务背景与特点
业务范围：本次开发仅涉及**出口**业务的海运提单。进口提单由国外提供，我方系统仅用其提货，不涉及制作。
业务周期：海运业务周期长（通常一个月以上，例如煤炭、大豆等大宗商品运输可能长达四五十天），与空运（2-3天）差异巨大。
单据创建时机：由于周期长，海运提单通常是**独立创建**的，不与具体的工作号（业务委托）强绑定。操作员会先“占单”（创建一个空的提单），后续再逐步完善信息。
2.2 数据模型与关联关系
提单类型：分为“主单”（船公司提单）和“分单”（货代提单）。
与工作号的关联：
主单：一个工作号（海运出口业务）**仅关联一个**主提单。它作为一项业务单据直接挂在工作号下，类似于费用单。
分单：一个工作号下可以有**多个**分单。分单也直接挂在工作号下，形成一个列表。分单与主单**没有直接的数据库外键关联**，而是通过都挂在同一个工作号下来建立逻辑联系。
2.3 字段详解与校验规则
核心原则：除特殊说明外，海运提单所有字段均为**字符串类型**、**可为空**，后端**不进行强制校验**，允许用户后续补充和修改。前端提供字典方便快捷输入，但用户也可手动录入非标准内容��
是否直单：标识该提单是否有分单。
港口信息：与空运不同，海运提单不使用三字代码，只记录港口的全名（如：装船港、中转港、目的港）。
通知人：比空运多一个“第二通知人”字段，为纯文本输入。
交通工具：由“船名”和“航次”两个字段组成，区别于空运的单一“航班号”。
箱型箱量与件/重/体：
数据来源：这部分数据逻辑与之前“订舱”模块的计算方式完全一致。可以从工作号的“订舱信息”或“基本资料”中读取并预填充。
用户可修改：从工作号读取数据后，用户在提单界面**仍然可以修改**。
英文件数/箱量：提供一个双击事件，将数字（如 `20`）和单位（如 `PACKAGE`）自动拼接并翻译为英文格式（如 `20 PACKAGES`），并处理单复数（`>1` 时加`s`）。如果用户手动修改，则以手动输入为准。
件数/重量/体积校验：当字段**不为空**时，应校验其为**大于零**的数字。
麦头 (Shipping Mark)：指贴在货物外箱上的标签信息，是一个大文本字段，记录货签上的所有内容。
签发信息：
正本张数：可为空，若不为空则应为大于零的整数。
签发人/签发时间/签发地点：均为可为空的字符串/日期。
其他副页：一个大文本字段，用于记录提单背面的条款等信息，打印时使用。
海运分单：
字段结构：分单的字段结构与主单**完全一致**。后端可以复用主单的实体和校验逻辑。
提单编号：分单的“提单编号”由货代自己生成，可通过“其他编码规则”模块自动生成，但也允许用户手动修改。主单的“提单号”由船公司提供。
3. 后续工作安排与「报关单」模块预告
开发计划：
本周内（截止周六）完成海运提单的主单和分单功能开发。
前端（陈云霄）继续完成进口仓单的开发。
后端（ZC@WorkGroup）完成海运提单的接口。
下次会议：定于下周一（2月28日）举行。
下个模块预告：「报关单」：
这是一个**非常复杂**的模块，涉及的专业性强（如报关员职业），系统逻辑严密。
**开发目标**：本次开发**不旨在**完整复刻一个全功能的报关系统（海关官方系统开发也耗时多年）。核心目标是提供一个便捷的**数据准备和传输工具**。
核心价值：利用我们系统中已有的客户资料、商品信息等基础数据，帮助用户快速预填报关单，然后将数据传输到海关的“单一窗口”系统。用户可以在“单一窗口”上进行最终的修改和申报。这解决了在海关系统里需要从零手敲所有信息的痛点。
4. 待办事项清单
类别	任务描述	负责人
前端	1. 确认并移除创建海运分单时自动增加的默认费用项。	陈云霄
前端	2. 完成剩余的“进口仓单”模块开发。	陈云霄
前端/后端	3. 开发“海运出口提单”的主单和分单功能。分单与主单字段结构一致，都挂在工作号下。	全体
产品/设计	4. 准备「报关单」模块的需求文档，明确基础字段和与“单一窗口”系统对接的初步范围。	永昌 石